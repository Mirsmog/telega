# Core Modules - –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏ —Å–∏—Å—Ç–µ–º—ã

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ core modules

```
core-modules/
‚îú‚îÄ‚îÄ users-module.md       # Users Module - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚îú‚îÄ‚îÄ orders-module.md      # Orders Module - –∑–∞–∫–∞–∑—ã –∏ –º–∞—Ç—á–∏–Ω–≥
‚îú‚îÄ‚îÄ payments-module.md    # Payments Module - Tinkoff –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ auth-module.md        # Auth Module - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îî‚îÄ‚îÄ README.md            # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π

### Users Module
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —Ä–æ–ª—è–º–∏, –±–∞–ª–∞–Ω—Å–∞–º–∏
- **Endpoints**: 8 endpoint'–æ–≤
- **–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
  - CRUD –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - –°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π (Customer, Performer, Admin)
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
  - –ë–∞–ª–∞–Ω—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### Orders Module
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤, –ø–æ–∏—Å–∫ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π, –º–∞—Ç—á–∏–Ω–≥
- **Endpoints**: 8 endpoint'–æ–≤
- **–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
  - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ (A‚ÜíB, Place, People)
  - –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ —Å –º–æ–¥–µ—Ä–∞—Ü–∏–µ–π
  - –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
  - –û—Ç–∫–ª–∏–∫–∏ –Ω–∞ –∑–∞–∫–∞–∑—ã
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏

### Payments Module
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Tinkoff, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞–º–∏
- **Endpoints**: 6 endpoint'–æ–≤
- **–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
  - –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π —á–µ—Ä–µ–∑ Tinkoff API
  - Webhook –æ–±—Ä–∞–±–æ—Ç–∫–∞
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞–º–∏
  - –ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π
  - –°–∏—Å—Ç–µ–º–∞ —Ç–∞—Ä–∏—Ñ–æ–≤

### Auth Module
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **Endpoints**: 4 endpoint'–∞
- **–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
  - JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
  - Telegram Bot –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
  - Telegram Mini App –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
  - Refresh —Ç–æ–∫–µ–Ω—ã
  - Guards –∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã

## üîó –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–æ–¥—É–ª–µ–π

```mermaid
graph TD
    Auth[Auth Module] --> Users[Users Module]
    Users --> Orders[Orders Module]
    Users --> Payments[Payments Module]
    Orders --> Payments
    
    Auth -.-> |JWT Guards| Orders
    Auth -.-> |JWT Guards| Payments
    
    Orders -.-> |User Data| Users
    Payments -.-> |Balance Updates| Users
```

## üìã –û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### Dependency Injection
–í—Å–µ –º–æ–¥—É–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç NestJS DI –¥–ª—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
```typescript
@Injectable()
export class UsersService {
  constructor(
    private prisma: PrismaService,
    private paymentsService: PaymentsService, // –ò–Ω–∂–µ–∫—Ü–∏—è –¥—Ä—É–≥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
  ) {}
}
```

### Error Handling
–ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫:
```typescript
throw new BadRequestException('Invalid user data');
throw new NotFoundException('User not found');
throw new UnauthorizedException('Access denied');
```

### Response Format
–ï–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤:
```typescript
return {
  success: true,
  data: result,
  message: 'Operation completed successfully',
  timestamp: new Date().toISOString(),
};
```

### Validation
–í—Å–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ DTO:
```typescript
@Post()
async create(@Body() dto: CreateUserDto) {
  // DTO –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è
  return this.usersService.create(dto);
}
```

## üîß Shared Services

### PrismaService
–ï–¥–∏–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å–µ–º–∏ –º–æ–¥—É–ª—è–º–∏.

### ConfigService
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –¥–æ—Å—Ç—É–ø–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω–æ.

### NotificationsService
–°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Orders –∏ Payments –º–æ–¥—É–ª—è–º–∏.

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –º–æ–¥—É–ª–µ–π

| –ú–æ–¥—É–ª—å | Endpoints | –°–µ—Ä–≤–∏—Å—ã | DTOs | Guards |
|--------|-----------|---------|------|--------|
| Auth | 4 | 1 | 3 | 3 |
| Users | 8 | 1 | 5 | 2 |
| Orders | 8 | 2 | 4 | 2 |
| Payments | 6 | 2 | 3 | 1 |

## üöÄ –ü–æ—Ä—è–¥–æ–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **Auth Module** - –±–∞–∑–æ–≤–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
2. **Users Module** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
3. **Orders Module** - –æ—Å–Ω–æ–≤–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
4. **Payments Module** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–µ–π

–ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É. 